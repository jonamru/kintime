# KinTimeアプリケーション - 通知メッセージ一覧

## 📋 概要

KinTimeアプリケーションで使用されている全ての通知メッセージを、ページ別・種類別に整理した一覧表です。

### 🎨 通知種別の凡例
- **✅ 成功**: 緑色背景、3秒自動消去
- **❌ エラー**: 赤色背景、手動消去まで表示
- **⚠️ 警告**: 黄色背景、手動消去まで表示
- **🔔 確認**: モーダルダイアログ、はい/いいえボタン

---

## 1. 勤怠管理関連

### 勤怠打刻ページ (`/attendance`)

| メッセージ内容 | 種別 | 備考 |
|---|---|---|
| "打刻しました" | ✅ 成功 | 打刻完了時 |
| "位置情報が必要です。位置情報を有効にしてから打刻してください。" | ❌ エラー | GPS必須時 |
| "打刻順序が正しくありません。正しい順序で打刻してください。" | ❌ エラー | 順序エラー |
| "エラーが発生しました" | ❌ エラー | 通信エラー |
| APIエラーメッセージ または "打刻に失敗しました" | ❌ エラー | 動的メッセージ |

### 改良版勤怠打刻ページ (`/attendance/page-improved.tsx`)

| メッセージ内容 | 種別 | 備考 |
|---|---|---|
| "${getTypeLabel(type)}しました！" | ✅ 成功 | 出勤/退勤/起床/出発を記録時 |
| "打刻を取り消しました" | ✅ 成功 | 取り消し成功時 |
| "位置情報が必要です。位置情報を有効にしてから打刻してください。" | ❌ エラー | GPS必須時 |
| "打刻順序が正しくありません。正しい順序で打刻してください。" | ❌ エラー | 順序エラー |
| "取り消しに失敗しました" | ❌ エラー | 取り消し失敗 |
| "取り消し処理でエラーが発生しました" | ❌ エラー | 取り消し通信エラー |
| "エラーが発生しました" | ❌ エラー | 一般的な通信エラー |

### 勤怠履歴ページ (`/attendance/history`)

| メッセージ内容 | 種別 | 備考 |
|---|---|---|
| "打刻時刻を修正しました" | ✅ 成功 | 修正完了時 |
| "打刻記録を削除しました" | ✅ 成功 | 削除完了時 |
| 一括処理結果メッセージ | ✅ 成功 | 例: "3件修正、2件削除しました" |
| "必須項目を入力してください" | ❌ エラー | バリデーション |
| "修正・削除する項目がありません" | ❌ エラー | 選択項目なし |
| "エラーが発生しました" | ❌ エラー | 通信エラー |
| "${getTypeLabel(attendance.type)}の打刻記録を削除しますか？\n\n${attendance.user.name}さん\n${formatDateTime(attendance.clockTime)}" | 🔔 確認 | 削除確認ダイアログ |

---

## 2. シフト管理関連

### シフト申請ページ (`/shift/request`)

| メッセージ内容 | 種別 | 備考 |
|---|---|---|
| "シフトを更新しました" | ✅ 成功 | 更新完了時 |
| "シフトを削除しました" | ✅ 成功 | 削除完了時 |
| "${result.created}件のシフトを申請しました" | ✅ 成功 | 一括申請完了時 |
| "日付を選択してください" | ❌ エラー | バリデーション |
| "当日を含む過去のシフトは編集できません" | ❌ エラー | 権限エラー |
| "このシフトは打刻済みのため削除できません" | ❌ エラー | 管理者向けエラー |
| "当日を含む過去のシフトは削除できません" | ❌ エラー | 一般ユーザー向けエラー |
| "エラーが発生しました" | ❌ エラー | 通信エラー |
| "このシフトを削除しますか？" | 🔔 確認 | 削除確認ダイアログ |

### シフト管理ページ (`/shift/manage`)

| メッセージ内容 | 種別 | 備考 |
|---|---|---|
| "シフトを承認しました" または "シフトを却下しました" | ✅ 成功 | 承認/却下処理完了時 |
| "却下の場合はコメントを入力してください" | ❌ エラー | バリデーション |
| "エラーが発生しました" | ❌ エラー | 通信エラー |

### 出勤者管理ページ (`/shift/workers`)

| メッセージ内容 | 種別 | 備考 |
|---|---|---|
| "${worker.user.name}の${typeLabels[type]}を記録しました" | ✅ 成功 | 打刻記録時 |
| "エラーが発生しました" | ❌ エラー | 通信エラー |

### シフト一覧ページ (`/shift/overview`)

| メッセージ内容 | 種別 | 備考 |
|---|---|---|
| "シフトを作成しました" | ✅ 成功 | 作成完了時 |
| "シフトを更新しました" | ✅ 成功 | 更新完了時 |
| "シフトを削除しました" | ✅ 成功 | 削除完了時 |
| "このシフトを編集する権限がありません" | ❌ エラー | 権限エラー |
| "他のユーザーのシフトを作成する権限がありません" | ❌ エラー | 権限エラー |
| "このシフトを削除する権限がありません" | ❌ エラー | 権限エラー |
| "エラーが発生しました" | ❌ エラー | 通信エラー |
| "このシフトを削除しますか？" | 🔔 確認 | 削除確認ダイアログ |

---

## 3. 経費管理関連

### 経費登録ページ (`/expense`)

| メッセージ内容 | 種別 | 備考 |
|---|---|---|
| "画像をアップロードしました" | ✅ 成功 | ファイルアップロード完了時 |
| "交通費を登録しました" | ✅ 成功 | 経費登録完了時 |
| Yahoo!乗換案内解析成功メッセージ | ✅ 成功 | テキスト解析時の詳細情報 |
| "必須項目を正しく入力してください" | ❌ エラー | バリデーション |
| "交通費の場合、出発地と到着地は必須です" | ❌ エラー | 交通費バリデーション |
| "宿泊費の場合、詳細は必須です" | ❌ エラー | 宿泊費バリデーション |
| "定期券の場合、開始駅、終了駅、開始日、終了日は必須です" | ❌ エラー | 定期券バリデーション |
| "経路詳細にYahoo!乗換案内のテキストを入力してください" | ❌ エラー | 解析入力不備 |
| "アップロード中にエラーが発生しました" | ❌ エラー | ファイルアップロードエラー |
| "解析中にエラーが発生しました" | ❌ エラー | テキスト解析エラー |
| "解析に失敗しました" | ❌ エラー | 解析処理エラー |
| "解析できませんでした。テキストの形式を確認してください。" | ❌ エラー | 解析フォーマットエラー |
| "サーバーエラーが発生しました。コンソールを確認してください。" | ❌ エラー | サーバーエラー |

### 月次経費一覧ページ (`/expense/monthly`)

| メッセージ内容 | 種別 | 備考 |
|---|---|---|
| "ロックしました" または "アンロックしました" | ✅ 成功 | ロック切り替え時 |
| "削除しました" | ✅ 成功 | 削除完了時 |
| "画像をアップロードしました" | ✅ 成功 | ファイルアップロード完了時 |
| "更新しました" | ✅ 成功 | 更新完了時 |
| "アップロード中にエラーが発生しました" | ❌ エラー | ファイルアップロードエラー |
| "削除中にエラーが発生しました" | ❌ エラー | 削除処理エラー |
| "操作中にエラーが発生しました" | ❌ エラー | 一般的な操作エラー |
| "更新中にエラーが発生しました" | ❌ エラー | 更新処理エラー |

---

## 4. 管理者機能関連

### ユーザー管理ページ (`/admin/users`)

| メッセージ内容 | 種別 | 備考 |
|---|---|---|
| "ユーザーを作成しました" | ✅ 成功 | ユーザー作成完了時 |
| "ユーザーを削除しました" | ✅ 成功 | ユーザー削除完了時 |
| "ユーザー情報を更新しました" | ✅ 成功 | ユーザー更新完了時 |
| "パートナー企業を追加しました" | ✅ 成功 | パートナー追加完了時 |
| "設定の更新に失敗しました" | ❌ エラー | 設定更新失敗 |
| "エラーが発生しました" | ❌ エラー | 通信エラー |
| "本当に「${user.name}」を削除しますか？\nこの操作は取り消せません。" | 🔔 確認 | ユーザー削除確認ダイアログ |

### パートナー管理ページ (`/admin/partners`)

| メッセージ内容 | 種別 | 備考 |
|---|---|---|
| "パートナー企業を作成しました" | ✅ 成功 | 作成完了時 |
| "パートナー企業情報を更新しました" | ✅ 成功 | 更新完了時 |
| "パートナー企業を削除しました" | ✅ 成功 | 削除完了時 |
| "エラーが発生しました" | ❌ エラー | 通信エラー |
| "このパートナー企業を削除しますか？\n関連するユーザーがいる場合は削除できません。" | 🔔 確認 | 削除確認ダイアログ |

### シフト登録ページ (`/admin/shift-register`)

| メッセージ内容 | 種別 | 備考 |
|---|---|---|
| APIから返される成功メッセージ | ✅ 成功 | 動的メッセージ |
| "ユーザーを選択してください" | ❌ エラー | バリデーション |
| "日付を選択してください" | ❌ エラー | バリデーション |
| "CSVファイルを選択してください" | ❌ エラー | ファイル未選択 |
| "エラーが発生しました" | ❌ エラー | 通信エラー |

### シフトロック管理ページ (`/admin/shift-lock`)

| メッセージ内容 | 種別 | 備考 |
|---|---|---|
| APIから返される成功メッセージ | ✅ 成功 | 動的メッセージ |
| "エラーが発生しました" | ❌ エラー | 通信エラー |

### 一括修正管理ページ (`/admin/bulk-edit`)

| メッセージ内容 | 種別 | 備考 |
|---|---|---|
| "${realRecords.length}件のデータを削除しました" | ✅ 成功 | 削除完了時 |
| "削除する項目を選択してください" | ❌ エラー | 選択項目なし |
| "削除可能な項目がありません" | ❌ エラー | 削除対象なし |
| "削除処理でエラーが発生しました" | ❌ エラー | 削除処理エラー |

### 権限修正ページ (`/admin/fix-permissions`)

| メッセージ内容 | 種別 | 備考 |
|---|---|---|
| "権限フィールド追加完了！" | ✅ 成功 | 権限修正完了時 |
| "API実行エラー" | ❌ エラー | 実行エラー |

---

## 5. API関連共通エラーメッセージ

### 認証・認可関連

| メッセージ内容 | 種別 | HTTPステータス | 備考 |
|---|---|---|---|
| "認証が必要です" | ❌ エラー | 401 | 未認証 |
| "User not found" | ❌ エラー | 401 | ユーザー見つからず |
| "権限がありません" | ❌ エラー | 403 | 権限不足 |
| "全員のシフトを閲覧する権限がありません" | ❌ エラー | 403 | シフト閲覧権限不足 |

### バリデーション関連

| メッセージ内容 | 種別 | HTTPステータス | 備考 |
|---|---|---|---|
| "年月が指定されていません" | ❌ エラー | 400 | パラメータ不備 |
| "対象年月が必要です" | ❌ エラー | 400 | パラメータ不備 |
| "ユーザー選択時はユーザーIDが必要です" | ❌ エラー | 400 | パラメータ不備 |
| "会社選択時は会社IDが必要です" | ❌ エラー | 400 | パラメータ不備 |
| "サポートされていない形式です" | ❌ エラー | 400 | フォーマットエラー |

### データ関連

| メッセージ内容 | 種別 | HTTPステータス | 備考 |
|---|---|---|---|
| "シフトが見つかりません" | ❌ エラー | 404 | データなし |
| "ユーザーが見つかりません" | ❌ エラー | 404 | データなし |
| "この日は既に他のシフト申請があります" | ❌ エラー | 409 | 競合エラー |

### ファイル関連

| メッセージ内容 | 種別 | HTTPステータス | 備考 |
|---|---|---|---|
| "ファイルが見つかりません" | ❌ エラー | 400 | ファイル未選択 |
| "ファイルサイズは5MB以下にしてください" | ❌ エラー | 400 | サイズ超過 |
| "対応していないファイル形式です。JPEG、PNG、GIF、WebPファイルをアップロードしてください" | ❌ エラー | 400 | 形式エラー |
| "ファイルのアップロードに失敗しました" | ❌ エラー | 500 | アップロード失敗 |

### システムエラー

| メッセージ内容 | 種別 | HTTPステータス | 備考 |
|---|---|---|---|
| "PDF生成に失敗しました" | ❌ エラー | 500 | PDF生成エラー |
| "レポートの生成に失敗しました" | ❌ エラー | 500 | レポート生成エラー |
| "シフト表の生成に失敗しました" | ❌ エラー | 500 | シフト表生成エラー |

---

## 6. 動的メッセージパターン

### ユーザー名埋め込み
- `本当に「${user.name}」を削除しますか？\nこの操作は取り消せません。`
- `${worker.user.name}の${typeLabels[type]}を記録しました`

### 件数表示
- `${result.created}件のシフトを申請しました`
- `${realRecords.length}件のデータを削除しました`
- `${failedDeletes.length}件の削除に失敗しました`

### 日時表示
- `${getTypeLabel(attendance.type)}の打刻記録を削除しますか？\n\n${attendance.user.name}さん\n${formatDateTime(attendance.clockTime)}`

### 条件分岐
- `action === 'approve' ? "シフトを承認しました" : "シフトを却下しました"`
- `${action === 'lock' ? 'ロック' : 'アンロック'}しました`

### 時間制限表示
- `管理者によりロック解除中：当月の過去日付も選択可能（残り${Math.floor(remainingTime / 60)}分${remainingTime % 60}秒）`

---

## 7. 運用時の注意事項

### 🔄 自動消去設定
- **成功メッセージ**: 3秒後に自動消去
- **エラー・警告メッセージ**: 手動で閉じるまで表示継続

### 📱 レスポンシブ表示
- **位置**: 画面右上固定（`fixed top-4 right-4`）
- **確認ダイアログ**: 画面中央表示
- **最大幅**: スマホ対応（`max-w-sm w-full`）

### ⚠️ 重要な操作
削除などの不可逆操作には必ず確認ダイアログを表示し、ユーザーに慎重な判断を促している。

### 🔍 エラー詳細表示
APIからのエラーレスポンスを動的に表示し、ユーザーが問題を理解しやすくしている。

---

## 📝 更新履歴

- 2025-01-09: 初回作成 - 全ページの通知メッセージを包括調査・整理