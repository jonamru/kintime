# 勤怠・シフト管理システム要件定義書

## 1. プロジェクト概要

### 1.1 システム名
イベント・人材派遣業向け勤怠管理システム

### 1.2 目的
- 自社・パートナー企業の人材を一元管理
- スプレッドシートからの脱却による業務効率化
- 勤怠、シフト、交通費・経費を統合管理

### 1.3 対象業務
- 携帯会社の販売業務
- メーカー販売業務
- 各種イベントスタッフ業務

### 1.4 想定ユーザー数
最大100名程度

## 2. ユーザー種別と権限

### 2.1 ユーザー種別
1. **全権管理者**
   - 全ての機能にアクセス可能
   - 全ユーザーの情報閲覧・編集可能
   - 受注単価・支払単価の閲覧可能

2. **担当別管理者**
   - 担当スタッフのみ管理・閲覧可能
   - シフト承認権限あり
   - 勤怠修正承認権限あり

3. **パートナー企業管理者**
   - 自社所属スタッフのみ閲覧可能
   - 勤怠確認機能

4. **自社スタッフ**
   - 自身の勤怠打刻
   - シフト希望提出
   - 勤怠修正申請

5. **パートナースタッフ**
   - 自身の勤怠打刻
   - シフト希望提出
   - 勤怠修正申請

## 3. 機能要件

### 3.1 ユーザー管理機能
- ユーザー登録・編集・削除
- 権限設定
- 生年月日の管理
- パートナー企業との紐付け

### 3.2 勤怠管理機能

#### 3.2.1 打刻機能
- スマートフォンからのWeb打刻
- GPS情報取得（ON/OFF切替可能）
- 打刻種別：
  - 出勤
  - 退勤
  - 起床報告（オプション）
  - 出発報告（オプション）

#### 3.2.2 勤怠修正機能
- スタッフからの修正申請
- 管理者による承認
- 修正履歴の保存（修正前・修正後の記録）
- 承認時のコメント機能

### 3.3 シフト管理機能

#### 3.3.1 シフトタイプ
- **常勤シフト**: 管理者が事前に勤務地を設定
- **スポットシフト**: 都度勤務地を決定

#### 3.3.2 シフト希望提出
- スタッフによるシフト希望登録
- 提出期限の設定・管理
- 月単位でのシフト管理

#### 3.3.3 シフト確定
- 管理者によるシフト承認
- 管理者による直接シフト登録
- シフト確定通知（アプリ内通知/メール）
- 勤務地の設定（常勤/スポット別）

#### 3.3.4 シフト変更管理
- 月3回程度の急な人員変更対応
- 変更履歴の記録

### 3.4 案件管理機能
- 案件情報の登録（クライアント、場所、時間、業務内容）
- 案件ごとの必要人数管理
- 受注単価・支払単価の管理（管理者のみ閲覧可）

### 3.5 交通費・経費管理機能

#### 3.5.1 交通費管理
- 日毎の交通費入力
- 月末給与処理用の集計
- 外注費との合算処理対応
- 交通費情報の管理項目：
  - 出発地
  - 到着地
  - 金額
  - 日付
  - 経路
  - 参照URL

#### 3.5.2 交通費自動抽出機能
- Yahoo!乗換案内の検索結果テキストを貼り付け
- 以下の情報を自動抽出：
  - 出発地・到着地（例：寝屋川公園 ⇒ 松井山手）
  - 日付（例：2025年7月24日(木)）
  - 金額（例：240円）
  - 経路情報
  - 参照URL（例：https://yahoo.jp/kdPtUx）

#### 3.5.3 定期券管理
- スタッフ別の定期券情報登録
- 定期券区間の管理（開始駅・終了駅）
- 有効期限の管理

#### 3.5.4 経費管理
- 宿泊費の申請
- 管理者による承認
- 承認時のコメント機能

### 3.6 レポート・集計機能
- 月次勤怠レポート
- 案件別収支レポート
- スタッフ別実績レポート
- CSV/Excelエクスポート機能
- Googleスプレッドシート連携

## 4. 非機能要件

### 4.1 システム要件
- **対応デバイス**: PC、スマートフォン、タブレット
- **推奨環境**: スマートフォン最適化（レスポンシブデザイン）
- **対応ブラウザ**: Chrome、Safari、Edge最新版
- **オフライン対応**: 不要

### 4.2 セキュリティ要件
- ID/パスワード認証
- HTTPS通信
- セッション管理
- アクセスログの記録

### 4.3 性能要件
- 同時アクセス数: 100ユーザー
- レスポンスタイム: 3秒以内
- 稼働時間: 24時間（AM1:00-4:59のメンテナンス可）

### 4.4 データ管理
- **保存期間**: 2年間
- **バックアップ**: 毎日自動実行
- **データ形式**: UTF-8

### 4.5 運用要件
- **月額予算**: 2,000円程度（サーバー費用）
- **サポート体制**: なし（セルフサービス）
- **更新頻度**: 年1回程度の機能追加

## 5. 制約事項
- 既存システムからのデータ移行は不要
- 給与計算機能は実装しない
- 複数現場での同日勤務は想定しない

## 6. 今後の検討事項
- 二段階認証の導入
- より高度な外部システム連携
- AI/MLを活用したシフト最適化機能

## 7. 用語定義
- **自社スタッフ**: 直接雇用または業務委託契約のスタッフ
- **パートナースタッフ**: パートナー企業所属のスタッフ
- **案件**: クライアントから受注した個別の業務
- **シフト**: スタッフの勤務予定
- **常勤シフト**: 勤務地が事前に決まっているシフト
- **スポットシフト**: 都度勤務地を決めるシフト

## 8. 成功指標
- スプレッドシートからの完全移行
- 勤怠データ入力時間の50%削減
- 月次締め作業時間の70%削減
- データの一元管理による業務効率化
- 交通費入力作業の80%削減（自動抽出機能による）